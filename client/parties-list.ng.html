<div *if="!selectedParty" class="main">

	<add-party>
		<span class="loading">Loading...</span>
	</add-party>


	<!-- <make-list-of-all-parties> -->
		<div class="parties col-3-4">
			<h2>Existing Parties:</h2>
			<ul>
				<li *for="#party of parties">
					<h3 class="party-name">
						{{ party.name }}
					</h3>
					<span class="party-description">
						{{ party.description }}
					</span>
					<button class="btn" (click)="selectParty(party)">
						View Party
					</button>

					<div *if="usersParty( party.owner )">
						<button (click)="remove(party)">Delete</button>
					</div>
				</li>
			</ul>
		</div>
	<!-- </make-list-of-all-parties> -->
</div>

<div *if="selectedParty">
	<div class="sidebar col-1-4">
		<button (click)="deselectParty()">&lt; back</button>
	</div>

	<div class="col-3-4">
		Here you will see and change the details of the party:
		<label for="selected-partyname">Party Name:</label>
		<input #selectedpartyname id="selected-partyname" [value]="selectedParty.name" type="text">
		<label for="selected-partydescription">Description</label>
		<textarea #selectedpartydescription id="selected-partydescription" [value]="selectedParty.description"></textarea>
		<label for="selected-partyispublic">Is the party public?
	  	<input #selectedpartyispublic [checked]="selectedParty.public" type="checkbox">
	  </label>

		<div *if="dontShow">
			<button (click)="saveParty(selectedpartyname.value, selectedpartydescription.value, selectedpartyispublic.checked)">Save</button>
			<button (click)="resetForm(selectedParty, selectedpartyname, selectedpartydescription, selectedpartyispublic)">Reset form</button>
		</div>
	</div>
</div>
<script>System.import( 'client/add-party' );</script>
